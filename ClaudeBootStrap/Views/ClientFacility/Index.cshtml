@using ClaudeData.Models.Lists.Settings
@model ClaudeViewManagement.ViewModels.Settings.Places.ClientFacilityViewModel

@{
    ViewBag.Title = "Site Configuration";
}

@using (Html.BeginForm())
{
    <!-- BEGIN HIDDEN FIELDS AREA -->
    @Html.HiddenFor(m => m.EventCommand, new {data_val = "false"})
    @Html.HiddenFor(m => m.EventArgument, new {data_val = "false"})
    @Html.HiddenFor(m => m.Entity.Facility.PlaceId, new {data_val = "false"})
    <!-- END HIDDEN FIELDS AREA -->

    if (Model.IsDetailAreaVisible)
    {
        <!-- BEGIN HIDDEN FIELDS AREA -->
        @Html.HiddenFor(m => m.Mode, new {data_val = "false"})
        if (Model.Entity.Addresses.MailingAddress.AddressAssociationId != 0)
        {
            @Html.HiddenFor(m => m.Entity.Addresses.ShippingAddress.AddressId, new {data_val = "false"})
            @Html.HiddenFor(m => m.Entity.Addresses.ShippingAddress.AddressType, new {data_val = "false"})
            @Html.HiddenFor(m => m.Entity.Addresses.ShippingAddress.PostalCodeId, new {data_val = "false"})
            @Html.HiddenFor(m => m.Entity.Addresses.ShippingAddress.AddressAssociationId, new {data_val = "false"})
        }
        if (Model.Entity.Addresses.MailingAddress.AddressAssociationId != 0)
        {
            @Html.HiddenFor(m => m.Entity.Addresses.MailingAddress.AddressId, new {data_val = "false"})
            @Html.HiddenFor(m => m.Entity.Addresses.MailingAddress.AddressType, new {data_val = "false"})
            @Html.HiddenFor(m => m.Entity.Addresses.MailingAddress.PostalCodeId, new {data_val = "false"})
            @Html.HiddenFor(m => m.Entity.Addresses.MailingAddress.AddressAssociationId, new {data_val = "false"})
        }
        if (Model.Entity.Phones.FaxPhone.PhoneAssociationId != 0)
        {
            @Html.HiddenFor(m => m.Entity.Phones.FaxPhone.PhoneId, new {data_val = "false"})
            @Html.HiddenFor(m => m.Entity.Phones.FaxPhone.PhoneType, new {data_val = "false"})
            @Html.HiddenFor(m => m.Entity.Phones.FaxPhone.PhoneAssociationId, new {data_val = "false"})
        }
        if (Model.Entity.Phones.CellPhone.PhoneAssociationId != 0)
        {
            @Html.HiddenFor(m => m.Entity.Phones.CellPhone.PhoneId, new {data_val = "false"})
            @Html.HiddenFor(m => m.Entity.Phones.CellPhone.PhoneType, new {data_val = "false"})
            @Html.HiddenFor(m => m.Entity.Phones.CellPhone.PhoneAssociationId, new {data_val = "false"})
        }
        if (Model.Entity.Phones.HomePhone.PhoneAssociationId != 0)
        {
            @Html.HiddenFor(m => m.Entity.Phones.HomePhone.PhoneId, new {data_val = "false"})
            @Html.HiddenFor(m => m.Entity.Phones.HomePhone.PhoneType, new {data_val = "false"})
            @Html.HiddenFor(m => m.Entity.Phones.HomePhone.PhoneAssociationId, new {data_val = "false"})
        }
        if (Model.Entity.Phones.WorkPhone.PhoneAssociationId != 0)
        {
            @Html.HiddenFor(m => m.Entity.Phones.WorkPhone.PhoneId, new {data_val = "false"})
            @Html.HiddenFor(m => m.Entity.Phones.WorkPhone.PhoneType, new {data_val = "false"})
            @Html.HiddenFor(m => m.Entity.Phones.WorkPhone.PhoneAssociationId, new {data_val = "false"})
        }
        <!-- END HIDDEN FIELDS AREA -->

        <div class="panel panel-primary">

        <div class="panel-heading">
            <h1 class="panel-title">
                Facility Edit/Add
            </h1>
        </div>

        <div class="panel-body">

        <!-- ** BEGIN MESSAGE AREA -->

        <div class="row">
            <div class="col-xs-12">
                @if (!Model.IsValid)
                {
                    <div class="alert alert-danger alert-dismissable"
                         role="alert">
                        <button type="button" class="close"
                                data-dismiss="alert">
                            <span aria-hidden="true">
                                        &times;
                                    </span>
                            <span class="sr-only">Close</span>
                        </button>
                        @Html.ValidationSummary(false)
                    </div>
                }
            </div>
        </div>

        <!-- ** END MESSAGE AREA -->
        <!-- ** BEGIN INPUT AREA -->

        <div class="container">
        <div class="span10">

        <h2>Facility</h2>

        <ul class="nav nav-tabs">
            <li class="active">
                <a data-toggle="tab" href="#memberinfo">Facility Info</a>
            </li>
            <li>
                <a data-toggle="tab" href="#addressinfo">Address Info</a>
            </li>
            <li>
                <a data-toggle="tab" href="#phoneinfo">Phone Info</a>
            </li>
            <li>
                <a data-toggle="tab" href="#loginsettings">Login Settings</a>
            </li>
        </ul>


        <div class="tab-content">

        <div id="memberinfo" class="tab-pane fade in active">

            <h3>Member Info</h3>

            <div class="row">
                <div class="col-sm-4">
                    <div class="form-group">
                        @Html.LabelFor(m => m.Entity.Facility.Name, "Name")
                        @Html.TextBoxFor(m => m.Entity.Facility.Name,
                            new {@class = "form-control"})
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group">
                        @Html.LabelFor(m => m.Entity.Facility.Division, "Division")
                        @Html.TextBoxFor(m => m.Entity.Facility.Division,
                            new {@class = "form-control"})
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="form-group">
                        @Html.LabelFor(m => m.Entity.Facility.Department, "Department")
                        @Html.TextBoxFor(m => m.Entity.Facility.Department,
                            new {@class = "form-control"})
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-4">
                    <div class="form-group">
                        @Html.LabelFor(m => m.Entity.Facility.TimeZone, "TimeZone")
                        @Html.DropDownListFor(m => m.Entity.Facility.TimeZone, Model.Entity.TimeZoneList.LookupList,
                            new {@class = "form-control"})
                    </div>
                </div>
            </div>

        </div>

        <div id="addressinfo" class="tab-pane fade">

            <h3>Addresses</h3>

            <div class="row">
                <div class="col-sm-5">
                    <div class="panel panel-default">
                        <div class="panel-heading">Shipping Address</div>
                        <div class="panel-body">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Addresses.ShippingAddress.Address1, "Address1")
                                @Html.TextBoxFor(m => m.Entity.Addresses.ShippingAddress.Address1, new {@class = "form-control"})
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Addresses.ShippingAddress.Address2, "Address2")
                                @Html.TextBoxFor(m => m.Entity.Addresses.ShippingAddress.Address2, new {@class = "form-control"})
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Addresses.ShippingAddress.City, "City")
                                @Html.TextBoxFor(m => m.Entity.Addresses.ShippingAddress.City, new {@class = "form-control"})
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Addresses.ShippingAddress.StateProvince, "State/Province")
                                @Html.TextBoxFor(m => m.Entity.Addresses.ShippingAddress.StateProvince, new {@class = "form-control"})
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Addresses.ShippingAddress.ZipCode, "Postal Code")
                                @Html.TextBoxFor(m => m.Entity.Addresses.ShippingAddress.ZipCode, new {@class = "form-control"})
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Addresses.ShippingAddress.Country, "Country")
                                @Html.DropDownListFor(m => m.Entity.Addresses.ShippingAddress.Country, Model.Entity.CountryList.LookupList,
                                    new {@class = "form-control"})
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-5">
                    <div class="panel panel-default">
                        <div class="panel-heading">Mailing Address</div>
                        <div class="panel-body">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Addresses.MailingAddress.Address1, "Address1")
                                @Html.TextBoxFor(m => m.Entity.Addresses.MailingAddress.Address1, new {@class = "form-control"})
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Addresses.MailingAddress.Address2, "Address2")
                                @Html.TextBoxFor(m => m.Entity.Addresses.MailingAddress.Address2, new {@class = "form-control"})
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Addresses.MailingAddress.City, "City")
                                @Html.TextBoxFor(m => m.Entity.Addresses.MailingAddress.City, new {@class = "form-control"})
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Addresses.MailingAddress.StateProvince, "State/Province")
                                @Html.TextBoxFor(m => m.Entity.Addresses.MailingAddress.StateProvince, new {@class = "form-control"})
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Addresses.MailingAddress.ZipCode, "Postal Code")
                                @Html.TextBoxFor(m => m.Entity.Addresses.MailingAddress.ZipCode, new {@class = "form-control"})
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Addresses.MailingAddress.Country, "Country")
                                @Html.DropDownListFor(m => m.Entity.Addresses.MailingAddress.Country, Model.Entity.CountryList.LookupList,
                                    new {@class = "form-control"})
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div id="phoneinfo" class="tab-pane fade">

            <h3>Phones</h3>

            <div class="row">
                <div class="col-sm-2">
                    <div class="panel panel-default">
                        <div class="panel-heading">Home</div>
                        <div class="panel-body">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Phones.HomePhone.PhoneNumber, "Phone Number")
                                @Html.TextBoxFor(m => m.Entity.Phones.HomePhone.PhoneNumber, new {@class = "form-control"})
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Phones.HomePhone.Country, "Country")
                                @Html.DropDownListFor(m => m.Entity.Phones.HomePhone.Country, Model.Entity.CountryList.LookupList,
                                    new {@class = "form-control"})
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2">
                    <div class="panel panel-default">
                        <div class="panel-heading">Cell</div>
                        <div class="panel-body">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Phones.CellPhone.PhoneNumber, "Phone Number")
                                @Html.TextBoxFor(m => m.Entity.Phones.CellPhone.PhoneNumber, new {@class = "form-control"})
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Phones.CellPhone.Country, "Country")
                                @Html.DropDownListFor(m => m.Entity.Phones.CellPhone.Country, Model.Entity.CountryList.LookupList,
                                    new {@class = "form-control"})
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2">
                    <div class="panel panel-default">
                        <div class="panel-heading">Work</div>
                        <div class="panel-body">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Phones.WorkPhone.PhoneNumber, "Phone Number")
                                @Html.TextBoxFor(m => m.Entity.Phones.WorkPhone.PhoneNumber, new {@class = "form-control"})
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Phones.WorkPhone.Country, "Country")
                                @Html.DropDownListFor(m => m.Entity.Phones.WorkPhone.Country, Model.Entity.CountryList.LookupList,
                                    new {@class = "form-control"})
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2">
                    <div class="panel panel-default">
                        <div class="panel-heading">Fax</div>
                        <div class="panel-body">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Phones.FaxPhone.PhoneNumber, "Phone Number")
                                @Html.TextBoxFor(m => m.Entity.Phones.FaxPhone.PhoneNumber, new {@class = "form-control"})
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Phones.FaxPhone.Country, "Country")
                                @Html.DropDownListFor(m => m.Entity.Phones.FaxPhone.Country, Model.Entity.CountryList.LookupList,
                                    new {@class = "form-control"})
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-2">
                    <div class="panel panel-default">
                        <div class="panel-heading">Settings</div>
                        <div class="panel-body">
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Phones.PhoneSettings.PrimaryPhoneType, "Primary Phone")
                                @Html.DropDownListFor(m => m.Entity.Phones.PhoneSettings.PrimaryPhoneType, Model.Entity.PhoneTypeList.LookupList,
                                    new {@class = "form-control"})
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Phones.PhoneSettings.MobileCarrier, "Mobile Carrier")
                                @Html.DropDownListFor(m => m.Entity.Phones.PhoneSettings.MobileCarrier, Model.Entity.MobileCarrierList.LookupList,
                                    new {@class = "form-control"})
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(m => m.Entity.Phones.PhoneSettings.AllowText, "Allow Text?")
                                @Html.CheckBoxFor(m => m.Entity.Phones.PhoneSettings.AllowText)
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="loginsettings" class="tab-pane fade">
            <h3>Login</h3>
            <p>Eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
        </div>

        </div>

        </div>
        </div>
        <!-- ** END INPUT AREA -->

        </div>

        <div class="panel-footer">
            <div class="row">
                <div class="col-sm-12">
                    <button id="btnSave"
                            class="btn btn-sm btn-primary"
                            data-pdsa-action="save">
                        <i class="glyphicon glyphicon-floppy-disk">
                        </i>
                        &nbsp;Save
                    </button>
                    <button id="btnCancel"
                            class="btn btn-sm btn-primary"
                            formnovalidate="formnovalidate"
                            data-pdsa-action="cancel">
                        <i class="glyphicon glyphicon-remove-circle">
                        </i>
                        &nbsp;Cancel
                    </button>
                </div>
            </div>
        </div>

        </div>
    }

    if (Model.IsListAreaVisible)
    {
        <div class="panel panel-primary">
        <div class="panel-heading">
            <h1 class="panel-title">Site Configuration</h1>
        </div>
        <div class="panel-body">

            <!-- BEGIN GRID AREA -->
            <h2 class="panel-title">Facilities</h2>&nbsp;&nbsp;
            <button id="btnAdd"
                    class="btn btn-sm btn-success"
                    data-pdsa-action="add">
                <i class="glyphicon glyphicon-plus"></i>
                &nbsp;Add
            </button>

            <div class="table-responsive">
                <table class="table table-condensed table-bordered table-striped table-hover">
                    <thead>
                    <tr>
                        <th class="pdsa-action-button-area">Edit</th>
                        <th>Facility</th>
                        <th>Division</th>
                        <th>Department</th>
                        <th class="pdsa-action-button-area">Delete</th>
                    </tr>
                    </thead>

                    <tbody>
                    @foreach (ClientFacilityInfo item in Model.ListEntity)
                    {
                        <tr>
                            <td class="pdsa-action-button-area">
                                <a href="#" data-pdsa-action="edit"
                                   data-pdsa-val="@item.PlaceId"
                                   class="btn btn-default btn-sm">
                                    <i class="glyphicon glyphicon-edit"></i>
                                </a>
                            </td>
                            <td>@item.Name</td>
                            <td>@item.Division</td>
                            <td>@item.Department</td>
                            <td class="pdsa-action-button-area">
                                <a href="#" data-pdsa-action="delete"
                                   data-pdsa-val="@item.PlaceId"
                                   onclick="return confirm('Delete this Facility?');"
                                   class="btn btn-default btn-sm">
                                    <i class="glyphicon glyphicon-trash"></i>
                                </a>
                            </td>

                        </tr>
                    }
                    </tbody>
                </table>
            </div>
            <!-- END GRID AREA -->
            <!-- ** BEGIN INPUT AREA -->

            <div class="container">
                <div class="span10">

                    <h2>Site Settings</h2>

                    <div class="row">
                        <div class="col-sm-3">
                            <div class="panel panel-default">
                                <div class="panel-heading">Password Requirements</div>
                                <div class="panel-body">
                                    <div class="form-group">
                                        @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                        @Html.LabelFor(m => m.IsDetailAreaVisible, "Minimum Length")
                                        @Html.TextBoxFor(m => m.ANumber)
                                    </div>
                                    <div class="form-group">
                                        @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                        @Html.LabelFor(m => m.IsDetailAreaVisible, "Number")
                                    </div>
                                    <div class="form-group">
                                        @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                        @Html.LabelFor(m => m.IsDetailAreaVisible, "Capital Letter")
                                    </div>
                                    <div class="form-group">
                                        @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                        @Html.LabelFor(m => m.IsDetailAreaVisible, "Symbols")
                                    </div>
                                    <div class="form-group">
                                        @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                        @Html.LabelFor(m => m.IsDetailAreaVisible, "Expiration Days")
                                        @Html.TextBoxFor(m => m.ANumber)
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-2">
                            <div class="panel panel-default">
                                <div class="panel-heading">Compensation</div>
                                <div class="panel-body">
                                    @*<div class="form-group">
                                                    @Html.LabelFor(m => m.Entity.Phones.CellPhone.PhoneNumber, "Phone Number")
                                                    @Html.TextBoxFor(m => m.Entity.Phones.CellPhone.PhoneNumber, new { @class = "form-control" })
                                                </div>
                                                <div class="form-group">
                                                    @Html.LabelFor(m => m.Entity.Phones.CellPhone.Country, "Country")
                                                    @Html.DropDownListFor(m => m.Entity.Phones.CellPhone.Country, Model.Entity.CountryList.LookupList,
                                    new { @class = "form-control" })
                                                </div>*@
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="panel panel-default">
                                <div class="panel-heading">Study Definition</div>
                                <div class="panel-body">
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                                @Html.LabelFor(m => m.IsDetailAreaVisible, "Symbols")
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                                @Html.LabelFor(m => m.IsDetailAreaVisible, "Symbols")
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                                @Html.LabelFor(m => m.IsDetailAreaVisible, "Symbols")
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                                @Html.LabelFor(m => m.IsDetailAreaVisible, "Symbols")
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                                @Html.LabelFor(m => m.IsDetailAreaVisible, "Symbols")
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                                @Html.LabelFor(m => m.IsDetailAreaVisible, "Symbols")
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                                @Html.LabelFor(m => m.IsDetailAreaVisible, "Symbols")
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                                @Html.LabelFor(m => m.IsDetailAreaVisible, "Symbols")
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                                @Html.LabelFor(m => m.IsDetailAreaVisible, "Symbols")
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                                @Html.LabelFor(m => m.IsDetailAreaVisible, "Symbols")
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                                @Html.LabelFor(m => m.IsDetailAreaVisible, "Symbols")
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                @Html.CheckBoxFor(m => m.IsDetailAreaVisible)
                                                @Html.LabelFor(m => m.IsDetailAreaVisible, "Symbols")
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
            <!-- ** END INPUT AREA -->

        </div>
        <div class="panel-footer">
            <div class="row">
                <div class="col-sm-12">
                    <button id="btnSave"
                            class="btn btn-sm btn-primary"
                            data-pdsa-action="save">
                        <i class="glyphicon glyphicon-floppy-disk">
                        </i>
                        &nbsp;Save
                    </button>
                    <button id="btnCancel"
                            class="btn btn-sm btn-primary"
                            formnovalidate="formnovalidate"
                            data-pdsa-action="cancel">
                        <i class="glyphicon glyphicon-remove-circle">
                        </i>
                        &nbsp;Cancel
                    </button>
                </div>
            </div>
        </div>
        </div>
    }
}

@section scripts {

    <script>
        $(document).ready(function() {
            $("[data-pdsa-action]").on("click", function(e) {
                e.preventDefault();

                $("#EventCommand").val(
                    $(this).data("pdsa-action"));

                $("#EventArgument").val(
                    $(this).attr("data-pdsa-val"));

                $("form").submit();
            });
        });
    </script>
}